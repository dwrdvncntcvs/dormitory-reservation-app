<app-header></app-header>

<ion-content>
  <div class="main-container">
    <div class="main-title-container">
      <ion-item
        class="ion-item-round-border"
        lines="none"
        button="true"
        (click)="onToggle()"
      >
        <ion-icon name="ellipsis-vertical-outline"></ion-icon>
      </ion-item>
      <div *ngIf="toggle === true" class="filter-container">
        <ion-item class="ion-item-round-border" lines="none" button="true" (click)="getAllDormitories(filter.all, '?')">
          <p>Remove Filter</p>
        </ion-item>
        <ion-item class="ion-item-round-border" lines="none" button="true" (click)="getAllDormitories(filter.male, '?')">
          <p>Male</p>
        </ion-item>
        <ion-item class="ion-item-round-border" lines="none" button="true" (click)="getAllDormitories(filter.female, '?')">
          <p>Female</p>
        </ion-item>
        <ion-item class="ion-item-round-border" lines="none" button="true" (click)="getAllDormitories(filter.both, '?')">
          <p>Both</p>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Minimum</ion-label>
          <ion-input [(ngModel)]="filter.minimumPayment"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Maximum</ion-label>
          <ion-input [(ngModel)]="filter.maximumPayment"></ion-input>
        </ion-item>
        <ion-button (click)="getPayment()">Find</ion-button>
      </div>
      <h1 class="page-title">Dormitories</h1>
    </div>
    <div class="page-content">
      <ion-grid>
        <ion-row class="ion-justify-content-start">
          <ion-col
            sizeLg="3"
            sizeMd="12"
            sizeSm="12"
            *ngFor="let dormitory of dormitoryData"
          >
            <div class="card">
              <img
                *ngIf="dormitory.DormProfileImage === null"
                src="../../../assets/images/20503de4f96ace6f1ff06e61a4540c13.png"
              />
              <img
                *ngIf="dormitory.DormProfileImage !== null"
                class="image"
                [src]="url+'/image/dormitoryProfileImage/'+dormitory.DormProfileImage.filename"
              />
              <ion-card-content>
                <ion-card-title>
                  <p class="card-title">{{dormitory.name}}</p>
                </ion-card-title>
                <ion-label>{{ dormitory.address }}</ion-label>
              </ion-card-content>
              <ion-item lines="none" button="true" color="primary ">
                <ion-label class="button-text">View Details</ion-label>
              </ion-item>
              <br />
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
  </div>
</ion-content>
